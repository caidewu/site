<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!--Description-->
  
  <meta name="description" content="首先要说的是这应该是目前性价比最高的科学上网的方式，AWS免费一年，到期后，再去买VPS来搭建shadowsocks，也是一个道理，关键是比购买vpn或shadowsocks账户划算的多">
  

  <!--Author-->
  
  <meta name="author" content="蔡德伍">
  

  <!--Open Graph Title-->
  
      <meta property="og:title" content="科学上网Shadowsocks"/>
  
  <!--Open Graph Description-->
  
      <meta property="og:description" content="首先要说的是这应该是目前性价比最高的科学上网的方式，AWS免费一年，到期后，再去买VPS来搭建shadowsocks，也是一个道理，关键是比购买vpn或shadowsocks账户划算的多" />
  
  <!--Open Graph Site Name-->
  <meta property="og:site_name" content="麦桃说"/>
  <!--Type page-->
  
      <meta property="og:type" content="article" />
  
  <!--Page Cover-->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Title -->
  
  <title>科学上网Shadowsocks - 麦桃说</title>


  <link rel="shortcut icon" href="https://hexo.io/icon/favicon-96x96.png">

  <!-- Custom CSS/Sass -->
  
<link rel="stylesheet" href="/css/style.css">


  <!----------------------------
  https://github.com/GallenHu/hexo-theme-Daily

 _____            _   _
|  __ \          (_) | |
| |  | |   __ _   _  | |  _   _
| |  | |  / _` | | | | | | | | |
| |__| | | (_| | | | | | | |_| |
|_____/   \__,_| |_| |_|  \__, |
                          __/ |
                         |___/

    --------------------------->

<meta name="generator" content="Hexo 4.2.1"></head>


<body>

  <!-- Nav -->
  <header class="site-header">
  <div class="header-inside">
    <div class="logo">
      <a href="/" rel="home">
        
        <img src="https://hexo.io/logo.svg" alt="麦桃说" height="60">
        
      </a>
    </div>
    <!-- Navigation -->
    <nav class="navbar">
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse">
        <ul class="navbar-nav">
          
          
            <li>
              <a href="/.">
                
                  home
                
              </a>
            </li>
          
            <li>
              <a href="/archives">
                
                  archive
                
              </a>
            </li>
          
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </nav>
    <div class="button-wrap">
      <button class="menu-toggle">Primary Menu</button>
    </div>
  </div>
</header>


  <!-- Main Content -->
  <div class="content-area">
  <div class="post">
    <!-- Post Content -->
    <div class="container">
      <article>
        <!-- Title date & tags -->
        <div class="post-header">
          <h1 class="entry-title">
            科学上网Shadowsocks
            
          </h1>
          <p class="posted-on">
          2015-08-16
          </p>
          <div class="tags-links">
            
              
                <a href="/tags/科学上网/" rel="tag">
                  科学上网
                </a>
              
            
          </div>
        </div>
        <!-- Post Main Content -->
        <div class="entry-content has_line_number">
          <h2 id="说在前面的话"><a href="#说在前面的话" class="headerlink" title="说在前面的话"></a>说在前面的话</h2><ul>
<li>首先要说的是这应该是目前性价比最高的科学上网的方式，AWS免费一年，到期后，再去买VPS来搭建shadowsocks，也是一个道理，关键是比购买vpn或shadowsocks账户划算的多</li>
<li>这篇教程中的步骤是有一定时效性的，有些步骤可能随着AWS升级，相关软件升级等等会变得不太一样，这时候需要灵活应变；</li>
<li>这是一篇非常啰嗦的教程，特别是申请AWS的步骤，写这么细主要是想把整个过程还原出来</li>
<li>如果因为哪些步骤被卡住无法进行下去，均可在留言中说明，我会尽可能解答并更新到文中</li>
</ul>
<h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><h3 id="申请AWS"><a href="#申请AWS" class="headerlink" title="申请AWS"></a>申请AWS</h3><ol>
<li>打开 <a href="http://aws.amazon.com/cn/" target="_blank" rel="noopener">AWS官网</a><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-1.png" alt="A"></li>
<li>输入邮箱，选择新用户，点击 <code>登录</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-2.png" alt="A"></li>
<li>填写注册信息，点击 <code>创建账户</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-3.png" alt="A"></li>
<li>填写信用卡信息，点击 <code>继续</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-28.png" alt="A"></li>
<li>填写手机号码，点击 <code>立即呼叫我</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-4.png" alt="A"><br>几十秒后就会有一个电话打来，等电话里的妹子说完话，输入PIN码<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-5.png" alt="A"><br>输完后，妹子又说几句话就挂了电话，这时身份验证已经完成，点击 <code>继续</code> 选择支持方案<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-6.png" alt="A"></li>
<li>选择方案，默认选基本，点击 <code>继续</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-7.png" alt="A"></li>
<li>这时账户创建成功，点击 <code>启动管理控制台</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-8.png" alt="A"></li>
</ol>
<h3 id="新建EC2"><a href="#新建EC2" class="headerlink" title="新建EC2"></a>新建EC2</h3><ol>
<li>进入AWS主页，选择第一个：EC2<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-10.png" alt="A"></li>
<li>进入EC2控制台，选择右上角<code>弗吉尼亚北部</code>，弹出下拉菜单，推荐选择 <code>亚太地区（东京）</code></li>
</ol>
<p>这里啰嗦一下为什么最好选择东京的节点，因为各个地区的互联网链接依靠的海底电缆进行连接的，日本是沿海国家，而且网络发达，和各个地区都有直连的电缆，虽然我们访问大多网站都是在美国，但是访问网站时速度的瓶颈大多都是从我们的代理服务器到客户端这一段，所以还是选择这段选择近一点的地方时比较好的，有人会说那为什么不选择新加坡，或者澳大利亚，东南亚那一块的电缆布局很混乱，我本人测试后感觉速度确实不行，而澳大利亚到中国存在运营商问题，比如电信的网络就需要到美国中转，所以实测速度也不行。。。。。说了这么多，其实这些并不是绝对的，如果你懒，选择日本没错，如果你很闲，可以一个个的试，没关系，</p>
<p>EC2控制台刷新后，点击 启动实例<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-11.png" alt="A"></p>
<ol start="3">
<li>选择 符合条件的免费套ubuntu<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-12.png" alt="A"></li>
<li>默认的选择第一个即可， 点击 审核和启动<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-13.png" alt="A"></li>
<li>点击 启动，<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-14.png" alt="A"></li>
<li>创建新密钥对，输入名称，点击下载密钥对（一个*.pem文件），保存到电脑上，点击 启动实例<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-15.png" alt="A"></li>
<li>这样就创建好一个在东京的服务器节点，点击查看实例<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-16.png" alt="A"><br>这个时候AWS开始初始化的你的服务器节点，大概需要一两分钟</li>
</ol>
<h3 id="连接远程服务器"><a href="#连接远程服务器" class="headerlink" title="连接远程服务器"></a>连接远程服务器</h3><ul>
<li>如果是windows，参考官方教程<a href="https://docs.aws.amazon.com/zh_cn/AWSEC2/latest/UserGuide/putty.html?console_help=true" target="_blank" rel="noopener">使用putty连接远程服务器</a></li>
<li>如果是mac，<br>首先，找到刚刚保存的<code>*.pem</code>文件，比如文件名叫<code>amazon.pem</code>，确认文件路径，<br>打开终端，进到<code>amazon.pem</code>文件所在目录，<br>执行<code>chmod 400 amazon.pem</code> 修改文件权限<br>执行<code>ssh -i amazon.pem ubuntu@你的服务器节点ip</code>即可连接上远程服务器<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-27.png" alt="A"></li>
</ul>
<h3 id="安装shadowsocks依赖"><a href="#安装shadowsocks依赖" class="headerlink" title="安装shadowsocks依赖"></a>安装shadowsocks依赖</h3><ol>
<li><code>sudo -s</code> // 获取超级管理员权限</li>
<li><code>apt-get update</code> // 更新apt-get</li>
<li><code>apt-get install python-pip</code> // 安装python包管理工具pip</li>
<li><code>pip install shadowsocks</code> // 安装shadowsocks</li>
</ol>
<h3 id="配置shadowsocks"><a href="#配置shadowsocks" class="headerlink" title="配置shadowsocks"></a>配置shadowsocks</h3><p><code>vi /etc/shadowsocks.json</code></p>
<p>（ps. 可能有人不会用vi，这里简单说下，vi打开文件后，按<code>i</code>即可进入编辑状态，编辑完后，按<code>esc</code>退出编辑状态，按<code>:</code>进入命令状态，输入<code>wq</code>即可保存并退出，还不懂的话自行百度<code>vi</code>吧）</p>
<ol>
<li>单一端口配置：<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"server_port"</span>:<span class="number">8388</span>,</span><br><span class="line">    <span class="attr">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"password"</span>:<span class="string">"cai123"</span>,</span><br><span class="line">    <span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>:<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>多端口配置：<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"port_password"</span>: &#123;</span><br><span class="line">        <span class="attr">"端口1"</span>: <span class="string">"连接密码1"</span>,</span><br><span class="line">        <span class="attr">"端口2"</span> : <span class="string">"连接密码2"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
配置完成后启动shadowsocks<br><code>ssserver -c /etc/shadowsocks.json -d start</code> </li>
</ol>
<p>###开启AWS入站端口（重要！！）<br>配置好shaodowsocks后，还需要将配置中的端口打开,这样客户端的服务才能链接得上EC2中的shadowsocks服务<br>首先打开正在运行的实例，向右滚动表格，<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150815-0.png" alt="A"><br>看到最后一项，安全组，点击进入<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150815-1.png" alt="A"><br>点击操作，编辑入站规则<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150815-4.png" alt="A"><br>默认是开启了一个22端口（这是给ssh访问的），再建一个如下图红框标示的端口，我的shadowsocks配置的端口是8388，所以这里就开启8388，<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150815-5.png" alt="A"></p>
<h3 id="订单监控（非必须）"><a href="#订单监控（非必须）" class="headerlink" title="订单监控（非必须）"></a>订单监控（非必须）</h3><ul>
<li>AWS提供的服务是每个月15G流量，目前我不知道有什么方法可以监控每个月流量使用的情况，但是可以通过设置订单监控来提醒我是否有超过免费使用的额度，即每当我的账号费用超过$0,那amazon就会发邮件提醒我</li>
</ul>
<ol>
<li>点击右上角的用户名 -&gt; 我的账户，然后点击左边首选项即可打开以下页面<br>勾选<code>接收账单报警</code>,点击 <code>保存首选项</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-17.png" alt="A"></li>
<li>点击左上方<code>服务</code>，点击 <code>账单</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-18.png" alt="A"></li>
<li>点击 <code>设置第一个账单警报</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-19.png" alt="A"></li>
<li>点击 <code>创建账单警报</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-21.png" alt="A"></li>
<li>第一个项填写0即可，第二项填写你能接收到邮件的邮箱地址，点击 <code>创建警报</code><br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-22.png" alt="A"></li>
<li>这时会弹出这个页面，这个时候登录邮箱，打开Amazon发来的邮件（有可能在垃圾邮件里），点击邮件里的链接确认即可<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-23.png" alt="A"></li>
<li>登录邮箱确认后，会变成这样，点击<code>查看报警</code>,<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-24.png" alt="A"><br>这样就完成了订单监控<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150808-25.png" alt="A"><br>至此，服务端的要做的事情就全部完成了。</li>
</ol>
<h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><ul>
<li>其实这里已经开始离题了，但是为了给第一次用的童鞋最直接的方便，还是啰嗦一下，已经能科学的上网的童鞋不用看了</li>
</ul>
<h3 id="下载客户端"><a href="#下载客户端" class="headerlink" title="下载客户端"></a>下载客户端</h3><p>进入<a href="https://shadowsocks.com/client.html" target="_blank" rel="noopener">shadowsocks客户端下载页</a><br>可以在这里选择对应平台的客户端<br>一般来说<br>mac 选择 <a href="https://github.com/shadowsocks/shadowsocks-iOS/releases" target="_blank" rel="noopener"></a><br>windows 选择<a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener"></a><br>ios 直接去AppStore里搜 shadowsocks<br>android 去google play下？？？23333333<br>算了，还是给个网盘吧，包括mac和windows的客户端都在里面了<br>链接: <a href="http://pan.baidu.com/s/1hqgwO5I" target="_blank" rel="noopener">http://pan.baidu.com/s/1hqgwO5I</a> 密码: m5yb</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>这里以mac为例，无论哪个平台要填的东西就这三个东西</p>
<ul>
<li>地址：服务器实例的外网ip</li>
<li>密码：shadowsocks配置的密码</li>
<li>加密：aes-256-cfb<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150815-6.png" alt="A"></li>
</ul>
<p>点击确定保存配置后，点击 <code>打开Shadowsocks</code> 即可。<br>默认是选择 自动代理模式 ，这个模式下，GWF白名单的站点不会通过代理访问，<br>如果出现一些访问不了的情况，那就改成 全局模式<br>当然也可以通过chrome插件Proxy SwitchyOmega实现chrome浏览器的局部代理，<br>配置也非常简单，如下图<br><img src="http://7fvd05.com1.z0.glb.clouddn.com/QQ20150815-7.png" alt="A"><br>这个端口是客户端服务的端口，保持1080即可，不用改，<br>要说明的一点是当客户端的客户端打开后，本地的服务就跑起来了，这个时候，客户端的状态是关闭的情况下，chrome才能实现局部代理，因为客户端选项中的开启和关闭只是代理的开启和关闭，chrome实现局部代理相当是把代理的开关交给SwitchyOmega完成。</p>

        </div>
      </article>
    </div>
    <!-- Comments -->
    <div class="container">
      
<section id="comment">
  <!-- <h1 class="title">Comments</h1> -->

  
</section>


    </div>
    <!-- Pre or Next -->
    <div class="nav-links">
      
        <div class="nav-previous">
          <a href="/2016/02/12/Javascript/Javascript中的构造函数/" rel="prev"><span class="meta-arraw meta-arraw-left"></span> Older Posts</a>
        </div>
      
      
        <div class="nav-next">
          <a href="/2015/03/30/来说说isNaN和isFinite/" rel="prev">Newer Posts <span class="meta-arraw meta-arraw-right"></span></a>
        </div>
      
    </div>

  </div>
</div>


  <!-- Footer -->
  <!-- Footer-widgets -->
<div class="footer-widgets">
  <div class="row inside-wrapper">
    <div class="col-1-3">
      <aside>
        <h1 class="widget-title">关于本站</h1>
        <div class="custom-widget-content">
          
          caidewu, 蔡德伍, Javascript, HTML5, 前端, Mac, iOS, Windows
        </div>
      </aside>
    </div>
    <div class="col-1-3">
      <aside>
        <h1 class="widget-title">Contact</h1>
        <div class="widget-text">
          
            
              <a href="https://github.com/GallenHu" class="icon icon-github" target="_blank">github</a>
            
          
        </div>
      </aside>
    </div>
    <div class="col-1-3">
      <aside>
        <h1 class="widget-title">Search</h1>
        <div class="widget-text">
          <form onSubmit="return appDaily.submitSearch('')">
            <p>
              <input type="text" placeholder="search..." id="homeSearchInput">
            </p>
            <!-- <input type="submit" value="GO"> -->
          </form>
        </div>
      </aside>
    </div>
  </div>
</div>
<!-- Footer -->
<footer class="site-info">
  <p>
    <span>麦桃说 &copy; 2022</span>
    
      <span class="split">|</span>
      <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> with Theme <a href="https://github.com/GallenHu/hexo-theme-Daily" target="_blank">Daily</a></span>
    
  </p>
</footer>


  <!-- After footer scripts -->
  <!-- scripts -->

<script src="/js/app.js"></script>






</body>

</html>
